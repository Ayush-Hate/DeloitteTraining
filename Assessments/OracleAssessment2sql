CREATE TABLE PATIENT (
Patient_ID NUMBER(3) PRIMARY KEY,
Patient_Name VARCHAR2(30) NOT NULL,
Patient_Email VARCHAR2(30) UNIQUE,
Pat_Reg_Date DATE DEFAULT SYSDATE
);

CREATE TABLE MEDICINE (
Medicine_ID NUMBER(3) PRIMARY KEY,
Medicine_Name VARCHAR2(30) NOT NULL
);

CREATE TABLE PRESCRIPTION (
Prescription_ID NUMBER(3) PRIMARY KEY,
Prescribed_Date DATE DEFAULT SYSDATE,
Patient_ID NUMBER(3)
);

CREATE TABLE ISSUE (
I_ID NUMBER(3) PRIMARY KEY,
Prescription_ID NUMBER(3),
Medicine_ID NUMBER(3)
);
INSERT INTO PATIENT VALUES(1,'A','A@EMAIL.COM',SYSDATE);
INSERT INTO PATIENT VALUES(2,'B','B@EMAIL.COM',SYSDATE);
INSERT INTO PATIENT VALUES(3,'C','C@EMAIL.COM',SYSDATE);

INSERT INTO MEDICINE VALUES(1,'M1');
INSERT INTO MEDICINE VALUES(2,'M2');
INSERT INTO MEDICINE VALUES(3,'M3');
INSERT INTO MEDICINE VALUES(4,'M4');
INSERT INTO MEDICINE VALUES(5,'M5');

INSERT INTO PRESCRIPTION VALUES(1,SYSDATE,1);
INSERT INTO PRESCRIPTION VALUES(2,SYSDATE,2);
INSERT INTO PRESCRIPTION VALUES(3,SYSDATE,3);

INSERT INTO ISSUE VALUES(1,1,1);
INSERT INTO ISSUE VALUES(2,2,2);
INSERT INTO ISSUE VALUES(3,3,3);

ALTER TABLE PRESCRIPTION ADD CONSTRAINT fk_Prescription_patId FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID) ON DELETE CASCADE;
ALTER TABLE ISSUE ADD CONSTRAINT fk_Issue_prescriptionId FOREIGN KEY(Prescription_ID) REFERENCES PRESCRIPTION(Prescription_ID) ON DELETE CASCADE;
ALTER TABLE ISSUE ADD CONSTRAINT fk_Issue_MedicineId FOREIGN KEY(Medicine_ID) REFERENCES MEDICINE(Medicine_ID) ON DELETE CASCADE;

SELECT *
FROM PATIENT 
WHERE Pat_Reg_Date BETWEEN '12-DEC-19' AND '30-DEC-19';

SELECT p.Prescription_ID, p.Prescribed_Date, i.Medicine_ID
FROM PRESCRIPTION p, ISSUE i
WHERE p.Prescription_ID = i.Prescription_ID AND p.Patient_ID = 1; 

<-- QUERIES FOR HTML PAGE-->
SELECT p.patient_id, p.patient_name, p.patient_email, p.pat_reg_date, p1.prescription_id, p1.prescribed_date, m.medicine_id, m.medicine_name
FROM PATIENT p, PRESCRIPTION p1, ISSUE i, MEDICINE m
WHERE p.patient_id = p1.patient_id AND p1.prescription_id = i.prescription_id AND i.medicine_id = m.medicine_id AND p.patient_id = 1;

SELECT * FROM MEDICINE;